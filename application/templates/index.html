<!DOCTYPE html>
<html lang="en">
<head>
    <title>IfcOpenShell viewer</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='main.css') }}">
    {{ dropzone.load_css() }}
    {{ dropzone.style('border: 2px dashed #0087F7; margin: 10%; min-height: 400px;') }}
<body>

    <div style="text-align: center;">
        <h3 style="text-align: center;">Upload IFC files</h3>
    <button id="submit" style='text-align: center;'>Submit</button>
</div>


{{ dropzone.create('put_main') }}

<!-- {{ dropzone.config(redirect_url=url_for('put_main')) }} -->
{{ dropzone.load_js() }}
{{ dropzone.config() }}
{{ dropzone.config(custom_init='dz = this;document.getElementById("submit").addEventListener("click", function handler(e) {dz.processQueue();});',
                 custom_options='headers:{Accept: "application/json"},autoProcessQueue: false, addRemoveLinks: true, parallelUploads: 20') }}

<script>

    Dropzone.options.myDropzone = {

        init: function() {

            this.on("success", function (file, response) {

                window.location = response.url;

            });

        }

    }

</script>




</body>
</html>
